<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head;
         any other head content must come *after* these tags -->

    <!-- Icon to use on the browser bar -->
    <link rel="icon" href="calendar/images/web-icon.png">

    <!-- Bootstrap core CSS -->
    <link href="calendar/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Skeleton CSS -->
    <link rel="stylesheet" href="calendar/Skeleton/css/normalize.css">
    <link rel="stylesheet" href="calendar/Skeleton/css/skeleton.css">
    <link rel="stylesheet" href="calendar/css/skeleton-modifications.css">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="calendar/bootstrap3-ie10-viewport-bug-workaround/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Fonts -->
    <link href='calendar/fonts/raleway.css' rel='stylesheet' type='text/css'>

    <!-- Ace Code Editor - https://ace.c9.io/ -->
    <script type="text/javascript" src="calendar/ace-builds/src-noconflict/ace.js" charset="utf-8">
    </script>

    <!-- Chart.js - http://www.chartjs.org -->
    <script type="text/javascript" src="calendar/chartjs/Chart.bundle.min.js" charset="utf-8">
    </script>

    <!-- To support challenge/response authentication within course notes-->
        <script type="text/javascript">
      var nonce = "584172184d61b340f353b0485e62a72d5d223351e002439fc383aa611c5d4b86";
    </script>
    <script type="text/javascript" src="calendar/js/sha256.js"></script>
    
    <!-- Styles for the submission System -->
    <link href="calendar/css/calendar-default.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- MathJax -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ["\\(","\\)"] ],
          processEscapes: true
        }
      });
    </script>
    <script type="text/javascript" src="../../ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

    <!-- Highlight.js -->
    <link rel="stylesheet" href="calendar/highlight/styles/color-brewer.css">
    <script src='calendar/highlight/highlight.pack.js'></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- Font-Awesome -->
    <link rel="stylesheet" type="text/css" href="calendar/Font-Awesome/css/font-awesome.min.css">

    <!-- Datatables -->
    <link rel="stylesheet" type="text/css" href="calendar/datatables.net/datatables.min.css">

    <!-- Printing -->
    <link rel="stylesheet" type="text/css" media="print" href="calendar/css/calendar-print.css">

    <!-- Custom CSS based on user preferences -->
    <link href='docs/sy110_cdrD.css' rel='stylesheet'>
      
      
    <!-- Custom JavaScript based on user preferences -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="calendar/jquery/js/jquery-3.3.1.min.js"></script>
    <script src="calendar/bootstrap/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="calendar/bootstrap3-ie10-viewport-bug-workaround/ie10-viewport-bug-workaround.js"></script>
    <!-- DataTables -->
    <script type="text/javascript" src="calendar/datatables.net/datatables.min.js"></script>

  <title>CYBERWAR (Fall 2020)</title>

  </head>
  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!--
            <a class="navbar-brand" href="#">
              <img alt="Navbar!" src="css/images/web-icon.png" width="24">
            </a>
          -->
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">

            <li><a href="calendar.php.html?load=home">
                CYBERWAR - Introduction to Cyber Security</a></li>

            
            <li><a title="Calendar" href="calendar.php-1.html?show=calendar_display">
                <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
                </a></li>

            <li><a title="Resources" href="calendar.php-2.html?load=resources">
                <span class="glyphicon glyphicon-briefcase" aria-hidden="true"></span>
                </a></li>

            <li><a title="Information" href="calendar.php-3.html?load=policy">
                <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
                </a></li>

        
        
          </ul>

        
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
<a href="#" title="View files associated with lecture" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
Client-Side Scripting: Part One
</a>
<ul class="dropdown-menu  scrollable-menu">
<li class="dropdown-header">Options</li>
<li><form method="post" class="navbar-form navbar-left" role="search" target="_blank">
  <div class="input-group">
    <input type="hidden" class="form-control" name="print" id="print">
    <div class="input-group-btn">
        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-print"></i> Print</button>
    </div>
  </div>
</form></li>
<li><form method="get" class="navbar-form navbar-left" role="search">
  <div class="input-group">
    <input type="hidden" name="show" value="calendar_search">
    <input type="text" class="form-control" placeholder="Search" name="search" id="search">
    <div class="input-group-btn">
        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
    </div>
  </div>
</form></li>
<li><form method="post" class="navbar-form navbar-left" role="search" onsubmit="return hashPassword()">
  <div class="input-group">
    <input type="password" class="form-control" placeholder="Password" name="password" id="password">
    <div class="input-group-btn">
        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-lock"></i></button>
    </div>
</div>
</form></li>
</ul>
</li>
            <li class="dropdown">
              <a href="#" title="Select class" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                <span class="glyphicon glyphicon-apple" aria-hidden="true"></span>
                Class<span class="caret"></span></a>
              <ul class="dropdown-menu  scrollable-menu">
                <li><a href='calendar.php-4.html?type=class&event=1'>1 - Intro to the Cyber Domain</a></li>
<li><a href='calendar.php-5.html?type=class&event=2'>2 - Aspects and Pillars of Cyber Security</a></li>
<li><a href='calendar.php-6.html?type=class&event=3'>3 - Computer Architecture</a></li>
<li><a href='calendar.php-7.html?type=class&event=4'>4 - Risk And Vulnerabilities</a></li>
<li><a href='calendar.php-8.html?type=class&event=5'>5 - Policy And Law</a></li>
<li><a href='calendar.php-9.html?type=class&event=6'>6 - Bits And Bytes And Files</a></li>
<li><a href='calendar.php-10.html?type=class&event=7'>7 - OS-File Systems</a></li>
<li><a href='calendar.php-11.html?type=class&event=8'>8 - OS-Permissions, Shell, And Remote Access</a></li>
<li><a href='calendar.php-12.html?type=class&event=9'>9 - Web And HTML</a></li>
<li><a href='calendar.php-13.html?type=class&event=10'>10 - JavaScript - Overview</a></li>
<li><a href='calendar.php-14.html?type=class&event=11'>11 - Vulnerabilities and Malware</a></li>
<li><a href='calendar.php-15.html?type=class&event=12'>12 - Cyberspace as a Human Domain</a></li>
<li><a href='calendar.php-16.html?type=class&event=13'><font color='black'><b>13 - Client-Side Scripting: Part One</b></font></a></li>
<li><a href='calendar.php-17.html?type=class&event=14'>14 - Client-Side Scripting: Part Two</a></li>
<li><a href='calendar.php-18.html?type=class&event=15'>15 - Server-Side Scripting</a></li>
<li><a href='calendar.php-19.html?type=class&event=16'>16 - Human Factors in Cyber Operations</a></li>
<li><a href='calendar.php-20.html?type=class&event=17'>17 - Stack-Intro and Physical Layer</a></li>
<li><a href='calendar.php-21.html?type=class&event=18'>18 - Stack - Data Link Layer</a></li>
<li><a href='calendar.php-22.html?type=class&event=19'>19 - Stack - Network Layer</a></li>
<li><a href='calendar.php-23.html?type=class&event=20'>20 - Stack - Transport Layer</a></li>
<li><a href='calendar.php-24.html?type=class&event=21'>21 - Stack - Application Layer</a></li>
<li><a href='calendar.php-25.html?type=class&event=22'>22 - Wireless</a></li>
<li><a href='calendar.php-26.html?type=class&event=23'>23 - Network Security Appliances and Firewalls</a></li>
<li><a href='calendar.php-27.html?type=class&event=24'>24 - Symmetric Encryption</a></li>
<li><a href='calendar.php-28.html?type=class&event=25'>25 - Asymmetric Encryption</a></li>
<li><a href='calendar.php-29.html?type=class&event=26'>26 - Steganography</a></li>
<li><a href='calendar.php-30.html?type=class&event=27'>27 - Digital Forensics</a></li>
<li><a href='calendar.php-31.html?type=class&event=28'>28 - Cyber Recon</a></li>
<li><a href='calendar.php-32.html?type=class&event=29'>29 - Attackers And Defenders</a></li>
<li><a href='calendar.php-33.html?type=class&event=30'>30 - Cyber Attack</a></li>
<li><a href='calendar.php-34.html?type=class&event=31'>31 - Cyber Defense</a></li>
              </ul>
            </li>
                        <li class="dropdown">
              <a href="#" title="Select lab" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                <span class="glyphicon glyphicon-knight" aria-hidden="true"></span>
                Lab<span class="caret"></span></a>
              <ul class="dropdown-menu  scrollable-menu">
                <li><a href='calendar.php-35.html?type=lab&event=1'>1 - Computer Architecture And Supply Chain</a></li>
<li><a href='calendar.php-36.html?type=lab&event=2'>2 - Windows-Unix Shell And Command Line</a></li>
<li><a href='calendar.php-37.html?type=lab&event=3'>3 - Introduction to Build a Website</a></li>
<li><a href='calendar.php-38.html?type=lab&event=4'>4 - Injection Attacks and XSS</a></li>
<li><a href='calendar.php-39.html?type=lab&event=5'>5 - LAN-WLAN</a></li>
<li><a href='calendar.php-40.html?type=lab&event=6'>6 - Hashing And Passwords</a></li>
<li><a href='calendar.php-41.html?type=lab&event=7'>7 - Digital Certificates</a></li>
<li><a href='calendar.php-42.html?type=lab&event=8'>8 - Digital Forensics</a></li>
<li><a href='calendar.php-43.html?type=lab&event=9'>9 - Cyber Recon</a></li>
<li><a href='calendar.php-44.html?type=lab&event=10'>10 - Cyber Attack</a></li>
<li><a href='calendar.php-45.html?type=lab&event=11'>11 - Cyber Defense</a></li>
<li><a title='Material not online at this time' href='#'><span style='color=#AAAAAA'>12 - _archive</span></a></li>
              </ul>
            </li>
            
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

  <!-- End TopBar and CSS Stuff! -->
<!-- Begin providing the contents of the page -->
<div class="container">
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta http-equiv="Content-Style-Type" content="text/css">
    <meta http-equiv="Content-Script-Type" content="text/javascript">
    <title>BRAND:Client-Side Scripting: Part One</title>

    <script type="text/JavaScript" src="interpreter.js?key=154cc012ebda9da7aeca22046faf0b8a04dd87cf&type=resources&event=1"></script>
    <script type="text/javascript">
      var ygYYYY = "2022";
      var ygGradDay = "27";
      var log = "";
      var log2 = "";
      function trim(str) {
        return str.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
      }
    </script>

  </head>
  <body>
    <div class="header">

      <div class="noScreen">
      <br>
      </br>
        <h1>Client-Side Scripting: Part One</h1>
      </div>
    </div>
    
    <div class="learnObjs">
      <h2>Learning Outcomes</h2>
      <p>
        After completing these activities you should be able to:
      </p>
      <ul>
        <li>Describe client-server interaction for a static web page, and the processing done by the browser on the data it receives.</li>
        <li>Describe client-server interaction for a dynamic web page that involves user input to a form and server-side scripts.</li>
        <li>Describe and identify the risks associated with the use and/or execution of scripts on client-side or server-side web interactions.</li>
      </ul>
    </div>    
    
    <p class="sec">
    <h2>Client-Server Review</h2>
    Now is a good time to go back and refresh your memory of our initial discussion of Client-Server interactions found in the <a href="http://courses.cs.usna.edu/CYBERWAR/calendar.php?type=class&event=11"><i><b>Web and HTML lesson</b></i></a>. The next few lessons are going to build upon this knowledge by introducing the use of scripts both on the client-side and server-side of these interactions.
    
    
    
    <p class="sec">
      <h2>Dynamic Web Pages</h2>
    <div style="width: 30%; border-style: solid; padding: 0.5em; float:  right;">
      <b>try clicking on the pluses!</b><br>
    <script type="text/javascript">
    function dynExAct(n)
    {
      var bid = 'bb' + n, did = 'dd' + n;
      var theButton = document.getElementById(bid);
      var theDiv = document.getElementById(did);
      if (theButton.innerHTML == '+')
      {
      theButton.innerHTML = '-';
      theDiv.style.display = 'block';
      }
      else
      {
      theButton.innerHTML = '+';
      theDiv.style.display = 'none';
      }
    }
    </script>
    <b><span id="bb1" style="font-family: monospace; cursor: pointer;" onclick='dynExAct(1)'>+</span> the beginning</b><br>
    <div id="dd1" style="display: none;">The beginning is where we start.</div>
    <b><span id="bb2" style="font-family: monospace; cursor: pointer;" onclick='dynExAct(2)'>+</span> the middle</b><br>
    <div id="dd2" style="display: none;">The middle is where we ... do whatever it is that we do in the middle.</div>
    <b><span id="bb3" style="font-family: monospace; cursor: pointer;" onclick='dynExAct(3)'>+</span> the end</b><br>
    <div id="dd3" style="display: none;">The end is where we finish.</div>
    </div>
    <p>
      The web pages we've created up to this point have been <em>static</em> web pages, meaning that nothing on the page changes.
      You only see different content by loading different web pages.
      Moreover, everyone looking at that page sees exactly the same thing.
      All but the most basic sites these days have <em>dynamic content</em>, which means that changes occur to the current page, with or without user interaction, or that websites have pages that look different to different users.
      Fancy websites like Google Maps are built around the idea of dynamic web content.
      To the right is an example of a simple piece of dynamic content.
      Click on the +'s and -'s and see what happens.
      Note that the <a class="glossLink" href="calendar.php-76.html?load=glossary#U">URL</a> never changes.
    </p>
    <p>
      Dynamic content is possible through the execution of a snippet of code. The snippet of code can execute on either <a class="glossLink" href="calendar.php-76.html?load=glossary#C">client</a> machine (meaning in the web <a class="glossLink" href="calendar.php-76.html?load=glossary#B">browser</a>) or on the web <a class="glossLink" href="calendar.php-76.html?load=glossary#S">server</a>.  So we can have either <em><a class="glossLink" href="calendar.php-76.html?load=glossary#C">client-side scripting</a></em> or <em> <a class="glossLink" href="calendar.php-76.html?load=glossary#S">server-side scripting</a></em>.  Scripts can also be either event or non-event driven.  What this means is that the scripts can either run in response to user action, such as clicking on something (event driven), or can run automatically when the web page is loaded (non-event driven).  The boxes with the +'s and -'s that you clicked on are event driven since you, as the user, had to take an action for the event to take place.
    </p>
    <p>
      When thinking about whether the script is executing on the client machine or the server, there are some important considerations:
      <ol>
        <li>Allowing code to execute, whether in response to user action or automatically, could pose a security risk.  In client-side scripting, the client incurs the risk as it is running on their machine.  In server side scripting, the server incurs the risk as the script is running on the server machine.</li>
        <li>Client-side scripts only require the initial communication to GET the web page HTML file.  No additional communication with the server is required.  With server-side scripts, there is additional back and forth communication as your web browser tells the server to execute the script and the server then replies back with the web page changed by the result of running the script.</li>
        <li>Executing scripts costs CPU cycles. Server-side scripts cause more work for the server machine, client-side scripts cause more work for the client-side machine.</li>
      </ol>
    
    <p>
      In this lecture we will look at <em>non-event driven</em> client-side scripting of web pages.  That is, scripts that run in the client's browser automatically when the page is loaded or some other condition is met that doesn't involve user action (other than loading the web page to begin with) such as a timer.  Javascript is one of the primary scripting languages of HTML and the web and is the one we will be using.
    </p>
    
    <p class="sec"><h2>Embedding Scripts</h2>
    <div class="annotation">The <a class="glossLink" href="calendar.php-76.html?load=glossary#W">World Wide Web</a> Consortium (<a href="../../index-10.htm">W3C</a>) is an organization that is  responsible for the development of many standards for the web. <a class="glossLink" href="calendar.php-76.html?load=glossary#H">HTML</a> is one of those standards.   The W3C has a lot of nice tools for learning about HTML and related standards.  You can read their material on the DOM <a href="../../js/js_htmldom.asp.html">starting here</a>.
    </div> 
    
    <p>
      You can embed scripts in HTML code using the <strong><code>&lt;script&gt;</code></strong> tags.  The <strong><code>type</code></strong> attribute can be used to help the browser know which script language is being used:
    </p>
    <pre><code><font><strong><font><strong>&lt;</strong></font><font>script</font> <font>type=</font><font color="#008000">&quot;text/javascript&quot;</font><font><strong>&gt;</strong></font></strong></font>...<font><strong><font><strong>&lt;</strong></font><font>/script</font><font><strong>&gt;</strong></font></strong></font></code></pre>
    <p>
      When you see the <strong><code>&lt;script&gt;</code></strong> tag used, the script will be a client side, non-event driven script.  You’ll see how client-side event driven scripts and server side scripts are embedded in the HTML in other lectures.
    </p>
    <p>
      As you should recall, HTML is the markup language that describes the structure and content of a web page.  If we want our script to add dynamic content, that is, to change the structure or content of the HTML, we need the script to be able to affect the HTML on the page.  The <b>Document Object Model (DOM)</b> is a World Wide Web Consortium standard model and programming interface that defines HTML elements as objects, the properties of HTML elements, methods to access all HTML elements, and the events for all HTML elements.  What does that mean?  The HTML DOM is a standard for how to get, change, add, or delete HTML elements.  So what our scripts need to do, is access the DOM.
      <ul>
        <li>Scripts can access the DOM using the term “document”.</li>
        <li>The term "document" will be used in combination with a "method" of affecting the web page.</li>
        <li>A specific property can also be defined for some methods that would allow you to change, for example, specific parts of an element such as the font or color.</li>
        <li>The four methods you will learn about in this course are:
          <ul>
            <li><b>document.write</b></li>
            <li><b>document.location</b></li>
            <li><b>document.getElementById</b></li>
            <li><b>document.forms</b></li>
          </ul>
        </li>
      </ul>
    
    <p>
      In this lecture we’ll look at <b>document.write</b> and <b>document.location</b> in non-event driven scripts.  As a note, these methods are not exclusive to non-event driven scripts and you will see them used in event driven scripts as well.  You’ll learn about the other two methods in other lectures.
    <br>
    <h4><code>document.write</code></h4>
    
      <ul>
        <li>document.write simply writes something into the HTML page.  It can be used in insert text or elements or a combination.  For example:
          <ul>
            <li><b><code>document.write("Hello World")</code></b> would print Hello World on the web page.</li>
            <li><b><code>document.write("&lt;b&gt;This is a bold element&lt;/b&gt;")</code></b> would insert the bold element in the parenthesis into the web page and the browser would render <b>This is a bold element</b> in boldface.</li>
          </ul>
        </li>
      </ul>
    
    <p>
      You might be wondering why you would use document.write when the web page’s creator could have just written the text or element in the original HTML.  Well, one reason might be to display the output of a program written in Javascript.
    </p>
    <p class="sec">
    Here's an example of the kind of thing we can do with embedded scripts:
  <div style="border-style: solid; padding: 1em; margin: 1em;">
    <script type="text/javascript">
      var today = new Date();
      var BigDay = new Date(ygYYYY,4,ygGradDay,12,0,0,0); // noon on a day in May
      var msLeft = (BigDay.getTime() - today.getTime());
      var sLeft = Math.floor(msLeft/1000);
      var sfinal = sLeft % 60;
      var mfinal = Math.floor(sLeft / 60) % 60;
      var hfinal = Math.floor(sLeft / 60 / 60) % 24;
      var dLeft = Math.floor(sLeft/60/60/24);
      document.write("Only " + dLeft + " days, " + hfinal + " hours, " + mfinal + " minutes, " + sfinal + " seconds left 'til " + ygYYYY + "'s graduation!");
    </script>
  </div>
      Every time you visit this page, you get an updated report of the time remaining until graduation, but only when the page loads. The output in the box is the result of a script that calculates the time remaining based on the time that you loaded the page and uses <b>document.write</b> to get the browser to render the output.  Clearly the time is different every time you load the web page so the time remaining needs to be different as well.  In other words, it needs to dynamically determine what time content to render based on the time the page is loaded.
    
  <p>
  You may, however, like to have a timer that counts down without having to reload the page, so here's another version:
    <div id="gradDayTimer" style="border-style: solid; padding: 1em; margin: 1em;"> </div>
    <script type="text/javascript">
      setInterval(function(){
      var today = new Date();
      var BigDay = new Date(ygYYYY,4,ygGradDay,12,0,0,0); // noon on a day in May
      var msLeft = (BigDay.getTime() - today.getTime());
      var sLeft = Math.floor(msLeft/1000);
      var sfinal = sLeft % 60;
      var mfinal = Math.floor(sLeft / 60) % 60;
      var hfinal = Math.floor(sLeft / 60 / 60) % 24;
      var dLeft = Math.floor(sLeft/60/60/24);
      document.getElementById("gradDayTimer").innerHTML = "Only " + dLeft + " days, " + hfinal + " hours, " + mfinal + " minutes, " + sfinal + " seconds left 'til " + ygYYYY +"'s graduation!";},1000);
    </script>
  Whenever you refresh the page, the two clocks will briefly be in sync.
    
    
    
    
    
    
  Let’s take a look at some other examples of document.write.  In these examples you can see what’s going on behind the scenes.  Note the use of the &lt;script&gt; tags.  Everything inside of the &lt;script&gt; tags is Javascript.  The examples below use the javascript “while” loop.  Loops allow a piece of code to repeat multiple times bounded by a condition that must be satisfied before it stops.  These examples run document.write 1000 times.  Typing GONAVY 1000 times would be really tedious to write into the HTML code.  Running a script and printing the output into the HTML is very useful for repetitive content.
    <br>
    <br>
      <center>
    <table>
      <tr>
        <td>ex0.html (<a href="calendar.php-87.html?key=524c59b0a2c8f6bf0bdeca79e3825269cd32af11&type=class&event=13">see how this page is rendered)</a></td>
        <td>ex1.html (<a href="calendar.php-88.html?key=cc3ddea89ed61c5570c86b867a321fad3c7c93dd&type=class&event=13">see how this page is rendered)</a></td>
      </tr>
      <tr>
        <td>
<pre><font><strong><font><strong>&lt;</strong></font><font>html</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>head</font><font><strong>&gt;</strong></font></strong></font><font><strong><font><strong>&lt;</strong></font><font>/head</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>body</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>script</font> <font>type=</font><font color="#008000">&quot;text/javascript&quot;</font><font><strong>&gt;</strong></font></strong></font>
  var iter = 0;
  while(iter <font><strong>&lt;</strong></font> <font>1000)
</font>  <font>{
</font>    <font>iter</font> <font>=</font> <font>iter</font> <font>+</font> <font>1;
</font>    <font>document.write(</font><font color="#008000">&quot;G O N A V Y ! &quot;</font><font>);</font>   <font>
</font>  <font>}</font>
<font><strong>&lt;/script</strong></font><font><strong>&gt;</strong></font>
<font><strong><font><strong>&lt;</strong></font><font>/body</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>/html</font><font><strong>&gt;</strong></font></strong></font></pre>
        </td>
        <td>
<pre><font><strong><font><strong>&lt;</strong></font><font>html</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>head</font><font><strong>&gt;</strong></font></strong></font><font><strong><font><strong>&lt;</strong></font><font>/head</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>body</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>script</font> <font>type=</font><font color="#008000">&quot;text/javascript&quot;</font><font><strong>&gt;</strong></font></strong></font>
  var iter = 0;
  while(iter &lt; 1000)
  {
    iter = iter + 1;
    document.write('&lt;span style=<font color="#008000">&quot;color: #ff0000&quot;</font>&gt;G O&lt;/span&gt; &lt;b&gt;N A&lt;/b&gt; V Y ! ');
  }
<font><strong><font><strong>&lt;</strong></font><font>/script</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>/body</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>/html</font><font><strong>&gt;</strong></font></strong></font>
</pre>
        </td>
      </tr>
      <tr>
        <td>Short program, long web page!</td>
        <td>Remember, document.write(...) allows us to insert arbitrary HTML code!  So this time we've added formatting.</td>
      </tr>
    </table>
    <br>
    One thing you have to think about when you have embedded scripts is <em>when</em> each script will get executed.<br>
    The position of the script in the HTML file determines where the new HTML code appears, in that what you output simply replaces the <code>&lt;script type="text/javascript"&gt;...&lt;/script&gt;</code> in the final document.<br>
    Essentially, <b><u><i>they get executed in the order the browser comes across them</i></u></b>.<br>
    <br>
    Hopefully the following example clarifies this:
      <table>
        <tr>
          <td><a href="calendar.php-89.html?key=edf36cc35b0cb956674671469d1268e3ad0b69c6&type=class&event=13">ex2.html</a></td>
          <td>Gets rendered as ...</td>
        </tr>
        <tr>
          <td valign="middle">
<pre><font><strong><font><strong>&lt;</strong></font><font>html</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>head</font><font><strong>&gt;</strong></font></strong></font><font><strong><font><strong>&lt;</strong></font><font>/head</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>body</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>script</font> <font>type=</font><font color="#008000">&quot;text/javascript&quot;</font><font><strong>&gt;</strong></font></strong></font>document.write(&quot;1&quot;);<font><strong><font><strong>&lt;</strong></font><font>/script</font><font><strong>&gt;</strong></font></strong></font>
fish,
<font><strong><font><strong>&lt;</strong></font><font>script</font> <font>type=</font><font color="#008000">&quot;text/javascript&quot;</font><font><strong>&gt;</strong></font></strong></font>document.write(&quot;2&quot;);<font><strong><font><strong>&lt;</strong></font><font>/script</font><font><strong>&gt;</strong></font></strong></font>
fish,
red
<font><strong><font><strong>&lt;</strong></font><font>script</font> <font>type=</font><font color="#008000">&quot;text/javascript&quot;</font><font><strong>&gt;</strong></font></strong></font>document.write(&quot;<font><strong><font><strong>&lt;</strong></font><font>span</font> <font>style=</font><font color="#008000">'color: #ff0000;'</font><font><strong>&gt;</strong></font></strong></font>fish<font><strong><font><strong>&lt;</strong></font><font>/span</font><font><strong>&gt;</strong></font></strong></font>&quot;);<font><strong><font><strong>&lt;</strong></font><font>/script</font><font><strong>&gt;</strong></font></strong></font>,
blue
<font><strong><font><strong>&lt;</strong></font><font>script</font> <font>type=</font><font color="#008000">&quot;text/javascript&quot;</font><font><strong>&gt;</strong></font></strong></font>document.write(&quot;<font><strong><font><strong>&lt;</strong></font><font>span</font> <font>style=</font><font color="#008000">'color: #0000ff;'</font><font><strong>&gt;</strong></font></strong></font>fish<font><strong><font><strong>&lt;</strong></font><font>/span</font><font><strong>&gt;</strong></font></strong></font>&quot;);<font><strong><font><strong>&lt;</strong></font><font>/script</font><font><strong>&gt;</strong></font></strong></font>.
<font><strong><font><strong>&lt;</strong></font><font>/body</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>/html</font><font><strong>&gt;</strong></font></strong></font>
</pre>
          </td>
          <td valign="middle"><script type="text/javascript">document.write("1");</script> fish, <script type="text/javascript">document.write("2");</script> fish, red <script type="text/javascript">document.write("<span style='color: #ff0000;'>fish</span>");</script>, blue <script type="text/javascript">document.write("<span style='color: #0000ff;'>fish</span>");</script>.</td>
        </tr>
      </table>
    </center>
    
    <div class="sec">
    <h2>Embedded scripts with JavaScript code in separate files</h2>
    For larger scripts, or for JavaScript code you want to use in many pages, it's nice to keep the JavaScript code in a separate file.  This is done by setting the <code>src</code> property of the script tag to the path to the file containing the JavaScript code.  (BTW: files containing JavaScript code are traditionally given the <code>.js</code> extension.)  Thus,
    <pre>&lt;script type="text/javascript"&gt;document.write("hello");&lt;/script&gt;</pre>
    is effectively identical to
    <pre>&lt;script type="text/javascript" src="ex.js"&gt;&lt;/script&gt;</pre>
    assuming the file <code>ex.js</code> simply contains the line <code>document.write("hello");</code>. For the kind of short scripts we'll deal with in this class, we wouldn't usually do this, but if you do much JavaScript programming, it quickly becomes difficult to manage having both the HTML and the JavaScript in the same file. What's interesting to note is that the JavaScript file specified in the <code>src</code> property doesn't have to come from the same site as the web page that's using it. You could have a site here at www.usna.edu that references a script from www.usma.edu, like this:
    <pre>&lt;script type="text/javascript" src="http://www.usma.edu/sneaky.js"&gt;&lt;/script&gt;</pre>
    This is, of course, a bit of a risk.  You're putting your faith in another entity, trusting that they won't put sneaky stuff in that JavaScript file.  Even if you have no fears on that count, you're trusting that their security is good enough that you won't have to worry about someone breaking into their server and changing that file.
  </div>
    <p class="sec">
    <h4><code>document.location</code></h4>
    <div class="bareannotation">
<!--- BEGIN: TOTALLY RELOCATABLE INTERPRETER --->
      <div>
        <form onsubmit="return false;">
          Input a JavaScript <a class="glossLink" href="calendar.php-76.html?load=glossary#E">expression</a> or <a class="glossLink" href="calendar.php-76.html?load=glossary#S">statement</a> and press enter<br>
          <b>js&gt;</b>
        <input type="text" size="40" onkeydown='jsProcessPress(this,event)'>
        <br>
        <div id="jsResults" style="width: 25em; height: 10em; border-style: solid; font-family: monospace;"></div>
        </form>
      </div>
<!--- END: TOTALLY RELOCATABLE INTERPRETER --->
    </div>
    Another feature of the DOM that we can manipulate with JavaScript code is the value <code>document.location</code>. This <a class="glossLink" href="calendar.php-76.html?load=glossary#V">variable</a> holds the URL for the current page.  So, enter <pre><a class="glossLink" href="calendar.php-76.html?load=glossary#A">alert</a>(document.location);</pre> into the interpreter field to the right and press enter. You should see an alert box pop up displaying the URL for this page.  Setting the variable <code>document.location</code> to a new <a class="glossLink" href="calendar.php-76.html?load=glossary#S">string</a> value (it should be a URL!) causes the browser to load that page.  So, try entering the following in the <a class="glossLink" href="calendar.php-76.html?load=glossary#I">interpreter</a> field to the right and press enter: <pre>document.location = "http://www.usma.edu";</pre> If you did as I asked, thanks for coming back! One simple use of the behavior for setting  <code>document.location</code> is <em><a class="glossLink" href="calendar.php-76.html?load=glossary#R">redirection</a></em>. If you're moving an important page from one URL to another, you can set up a blank page at the old URL that does nothing but immediately send the viewer to the new URL.  Here's an example:
    <br>
    <br>
    <center>
    <table>
      <tr>
        <td>ex3.html (<a href="calendar.php-90.html?key=d3524accdb52b96a5e80b2c342946ea7b11d7f9d&type=class&event=13">see how this page is rendered</a>)</td>
      </tr>
      <tr>
        <td>
<pre><font><strong><font><strong>&lt;</strong></font><font>html</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>head</font><font><strong>&gt;</strong></font></strong></font><font><strong><font><strong>&lt;</strong></font><font>/head</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>body</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>script</font> <font>type=</font><font color="#008000">&quot;text/javascript&quot;</font><font><strong>&gt;</strong></font></strong></font>
  document.location = 'http://www.usma.edu';
<font><strong><font><strong>&lt;</strong></font><font>/script</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>/body</font><font><strong>&gt;</strong></font></strong></font>
<font><strong><font><strong>&lt;</strong></font><font>/html</font><font><strong>&gt;</strong></font></strong></font>
</pre>
        </td>
      </tr>
    </table>
    </center>
    <br>
    <br>
    If you hover over the <a class="glossLink" href="calendar.php-76.html?load=glossary#L">link</a>, you look like you're going one place (ex3.html), but then you appear to be sent to another.  What happened?  Well, you actually <em>do</em> go to ex3.html. However, that page immediately redirects you to http://www.usma.edu.
  

    <div class="sec">
      <h2>HTML and e-mail</h2>
      Most e-mail clients allow you to write and read e-mails with
      HTML formatting, not just plaint-text.  Combining this with
      JavaScript allows for some evil possibilities.  For example,
      we know how to make HTML automatically send you to the page of
      our choosing, no clicks required!  If an e-mail client executes
      JavaScript embedded in an HTML-formatted e-mail, we can craft an
      e-mail such that just opening the e-mail sends the machine's
      browser to a site of our choosing.  You are safer with an e-mail
      client that does not execute embedded JavaScript like this!
      <p>
  Pretty much any e-mail client allows attachments, and you are
  free to attach an HTML file to an e-mail.  If the recipient
  opens the attachment, it will be <a class="glossLink" href="calendar.php-76.html?load=glossary#R">rendered</a> by the recipient's
  browser, and the browser almost certainly will execute
  JavaScript!  Thus, we can easily make an e-mail that includes
  as an attachment an HTML file that does the <code>document.location</code>
  trick to redirect the recipient to a page of our choosing.
  As long as the recipient opens the attachment, we can send him
  to any page we like &mdash; automatically.
      </p>
      <p>
  In fact, even without JavaScript, HTML-formatted e-mail allows
  for some undesirable shenanigans.  For example, suppose I send
  out an HTML-formatted e-mail to a bunch of people with the
  embedded image:
  <pre>
    &lt;IMG src="http://midn.cyber.usna.edu/~sy110/f18.png"&gt;
  </pre>
  I can go check on midn.cyber.usna.edu's web server logs for <a class="glossLink" href="calendar.php-76.html?load=glossary#G">GET</a> requests of
  <code>/~sy110/f18.png</code>
  and find out exactly
  when that image was accessed ... i.e. exactly when my e-mails
  were opened.  If I can match <a class="glossLink" href="calendar.php-76.html?load=glossary#I">IP Addresses</a> to hosts and hosts to users (there's services for that) I'll know exactly who opened my e-mail,
  and when they opened it.  For this reason, many
  e-mail clients refuse to open remote images embedded in e-mails.
  <br>
  <br>
  <br>
  <br>
      
    </div>

    <div class="footer">
      <hr>
      <div class="table">
        <div class="tableRow">
          <div class="tableCell noPrint">
            <a href="../../index.htm"><img class="badge" src="../../img/valid-html-blue.png" alt="Valid HTML"></a>
          </div>
          <!-- <DIV class="tableCell pubDomain">
            <A rel="license" href="http://creativecommons.org/publicdomain/mark/1.0/"><IMG class="badge" src="img/pub-domain.png" alt="Public Domain Mark"></A>
          </DIV> -->
        </div>
      </div>
    </div>
  </body>
</html>
</div> <!-- /container --></body></html>